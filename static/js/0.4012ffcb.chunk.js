"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[0],{16606:function(n,t,e){e.d(t,{Z:function(){return g}});var r=e(45987),o=e(1413),i=e(29823),a=e(55931),u=e(72791),s=e(4942),c=e(66934),d=e(13400),l=e(73542),f=(0,c.ZP)("div")((function(n){var t=n.theme;return(0,s.Z)({backgroundColor:t.palette.primary.light,padding:10,height:"100vh",borderRadius:"20px"},t.breakpoints.up("sm"),{height:"auto",padding:"55px",borderRadius:"200px"})})),p=(0,c.ZP)(d.Z)((function(n){var t=n.theme;return(0,s.Z)({position:"absolute",backgroundColor:t.palette.primary.main,borderRadius:"150px 200px 130px 170px",top:0,right:2,width:30,height:30,transition:"0.3s","&:hover":{backgroundColor:t.palette.primary.main,opacity:.8}},t.breakpoints.up("sm"),{top:-19,right:2})})),m=(0,c.ZP)(l.Z)((function(n){var t,e=n.theme;return{".MuiDialog-root":{padding:"0px"},".MuiDialog-container":{padding:"0px"},".MuiDialog-paper":(t={position:"absolute",top:0,overflow:"visible",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,boxSizing:"border-box",width:"100%",minHeight:"100vh",margin:"0px",maxWidth:"none",padding:"10px"},(0,s.Z)(t,e.breakpoints.up("sm"),{top:"50%",width:"518px",minHeight:"fit-content",borderRadius:"200px 210px 200px 155px",transform:"rotate(5deg) translateY(-50%)","& > *":{transform:"rotate(-5deg)"}}),(0,s.Z)(t,e.breakpoints.up("md"),{height:"auto",width:"573px"}),(0,s.Z)(t,e.breakpoints.up("lg"),{width:"618px"}),(0,s.Z)(t,e.breakpoints.up("xl"),{height:"fit-content",width:"750px"}),t)}})),v=e(80184),h=["children"],x=(0,u.forwardRef)((function(n,t){return(0,v.jsx)(a.Z,(0,o.Z)({direction:"down",ref:t,in:!0},n))})),Z=function(n){var t=n.children,e=(0,r.Z)(n,h);return(0,v.jsxs)(m,(0,o.Z)((0,o.Z)({},e),{},{TransitionComponent:x,keepMounted:!0,children:[(0,v.jsx)(f,{children:t}),e.onClose&&(0,v.jsx)(p,{onClick:function(n){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e,n,"backdropClick")},children:(0,v.jsx)(i.Z,{})})]}))},g=(0,u.memo)(Z)},64694:function(n,t,e){e.d(t,{f:function(){return d}});var r=e(74165),o=e(15861),i=e(12917),a=e(91797),u=e(25983),s=e(86426),c=e(69061),d=function(n){var t=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.R1)((0,u.o)(c.CU+s.RR)).then((function(n){return n.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.a)([c.CU+s.RR],t,n)}},97938:function(n,t,e){e.d(t,{Z:function(){return w}});var r=e(1413),o=e(93433),i=e(45987),a=e(29170),u=e(34855),s=e(50525),c=e(85170),d=e(72791),l=e(61134),f=e(39230),p=e(64694),m=e(66934),v=e(81918),h=e(25286),x=(0,m.ZP)(v.Z)((function(n){var t=n.theme;return{zIndex:1,backgroundColor:t.palette.primary.main,color:t.palette.secondary.contrastText,margin:"0 2px"}})),Z=(0,m.ZP)(h.Z)({"& .MuiFormControl-root":{height:"unset"}}),g=e(80184),b=["name","defaultValues"],k=function(n){var t=n.name,e=n.defaultValues,m=(0,i.Z)(n,b),v=(0,f.$G)().t,h=(0,l.qo)(),k=(0,l.Gc)().setValue,w=h[t],C=(0,u.x)().currentUser,j=(0,p.f)(),y=(0,d.useMemo)((function(){var n,t=new Set;return null===(n=j.data)||void 0===n||n.forEach((function(n){n.state===c.X.Accepted&&(t.add(n.creator.email),t.add(n.user.email))})),Array.from(t)}),[j.data]),D=(0,d.useMemo)((function(){return Array.from(new Set([].concat((0,o.Z)(y),(0,o.Z)(e.map((function(n){return n.email}))))))}),[y,e]),P=(0,d.useMemo)((function(){var n,t=new Map;return null===(n=j.data)||void 0===n||n.forEach((function(n){n.state===c.X.Accepted&&(t.set(n.creator.email,n.creator),t.set(n.user.email,n.user))})),e.forEach((function(n){t.set(n.email,n)})),t}),[e,j.data]),T=null===w||void 0===w?void 0:w.map((function(n){return n.email}));return(0,g.jsx)(Z,(0,r.Z)((0,r.Z)({},m),{},{renderTags:function(){return null===w||void 0===w?void 0:w.map((function(n,e){return(0,g.jsx)(x,{label:n.email,disabled:n.email===(null===C||void 0===C?void 0:C.email)||!(!n.email||y.includes(n.email)),onDelete:function(){var e=null===w||void 0===w?void 0:w.filter((function(t){return t!==n}));k(t,e)}},e)}))},multiple:!0,options:D.filter((function(n){return!(null!==T&&void 0!==T&&T.includes(n))})),onChange:function(n,e){var r=[];e.forEach((function(n){var t=P.get(n);t&&r.push(t)})),k(t,r)},defaultValue:e.map((function(n){return n.email})),renderInput:function(n){return(0,g.jsx)(a.n,(0,r.Z)((0,r.Z)({},n),{},{InputLabelProps:void 0}))},noOptionsText:v(s.w.NoCollaborantOption)}))},w=(0,d.memo)(k)},47797:function(n,t,e){e.d(t,{Z:function(){return v}});var r=e(29439),o=e(13400),i=e(62683),a=e(61428),u=e(72791),s=e(61134),c=e(66934),d=e(15473),l=(0,c.ZP)("div")((function(n){return{display:"flex",flexWrap:"wrap",gap:"10px",padding:10,borderRadius:10,background:n.theme.palette.primary.main}})),f=(0,c.ZP)(d.ZP)((function(n){return{"& .MuiPopover-paper":{borderRadius:10,background:n.theme.palette.primary.main}}})),p=e(80184),m=function(){var n=(0,u.useState)(null),t=(0,r.Z)(n,2),e=t[0],c=t[1],d=(0,s.Gc)(),m=d.setValue,v=d.getValues,h=function(){return c(null)};return(0,p.jsxs)("div",{children:[(0,p.jsx)(o.Z,{onClick:function(n){c(n.currentTarget)},children:(0,p.jsx)(a.Z,{type:v("icon")})}),(0,p.jsx)(f,{open:Boolean(e),anchorEl:e,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,p.jsx)(l,{children:Object.values(i.J).map((function(n){return(0,p.jsx)(a.Z,{type:n,onClick:function(){m("icon",n),h()}},n)}))})})]})},v=(0,u.memo)(m)},4e3:function(n,t,e){e.r(t),e.d(t,{default:function(){return I}});var r=e(1413),o=e(29439),i=e(20890),a=e(24808),u=e(41178),s=e(16606),c=e(94141),d=e(34855),l=e(65762),f=e(14398),p=e(50525),m=e(62683),v=e(20718),h=e(74165),x=e(15861),Z=e(73418),g=e(91797),b=e(25983),k=e(35362),w=e(93433),C=e(96403),j=e(72791),y=function(){var n=(0,C.NL)();return(0,j.useCallback)((function(t){return n.setQueryData([k.kJ,k.sF],(function(n){var e=(0,r.Z)((0,r.Z)({},t),{},{tasks:[]});return n?[].concat((0,w.Z)(n),[e]):[e]}))}),[n])},D=e(61134),P=e(39230),T=e(97938),R=e(47797),E=e(42027),L=e(80184),O=function(){var n=(0,l.q)(),t=n.dialogsState.todoListDialog,e=t.editTodoListData,w=t.visible,C=n.dialogsActions.updateTodoListDialog,j=(0,f.Z)(w,(function(){return C({visible:!1})})),O=(0,o.Z)(j,2),I=O[0],M=O[1],S=(0,d.x)().currentUser,U={name:(null===e||void 0===e?void 0:e.name)||"",icon:(null===e||void 0===e?void 0:e.icon)||m.J.TodoList,assignedOwners:(null===e||void 0===e?void 0:e.assignedOwners)||[S],assignedUsers:(null===e||void 0===e?void 0:e.assignedUsers)||[]},B=(0,D.cI)({defaultValues:U});console.log(U);var V=function(){var n=y(),t=(0,b.o)(k.kJ),e=function(){var n=(0,x.Z)((0,h.Z)().mark((function n(e){return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.sg)(t,e).then((function(n){return n.data})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,Z.D)(e,{onSuccess:n})}(),J=(0,v.P)(),q=(0,P.$G)().t;return(0,L.jsx)(s.Z,{open:I,onClose:M,children:(0,L.jsx)(E.Gq,{onSubmit:B.handleSubmit((function(n){var t=(0,r.Z)((0,r.Z)({},n),{},{assignedOwners:n.assignedOwners.map((function(n){return n.email})),assignedUsers:n.assignedUsers.map((function(n){return n.email}))});e?J.mutate({todoListId:e.id,data:t}):V.mutate(t),M()})),children:(0,L.jsxs)(D.RV,(0,r.Z)((0,r.Z)({},B),{},{children:[(0,L.jsx)(i.Z,{variant:"h4",children:e?"".concat(q(p.w.EditTodoListDialogHeader),": ").concat(e.name):q(p.w.CreateTodoListDialogHeader)}),(0,L.jsxs)(E.Wf,{children:[(0,L.jsx)(R.Z,{}),(0,L.jsx)(c.M,{name:"name",control:B.control,placeholder:q(p.w.TodoListDialogInputTitle)})]}),(0,L.jsxs)(a.Z,{summaryText:q(p.w.ShareTodoList),children:[(0,L.jsx)(i.Z,{sx:{marginBottom:"4px"},children:q(p.w.CurrentOwners)}),(0,L.jsx)(T.Z,{name:"assignedOwners",defaultValues:null===U||void 0===U?void 0:U.assignedOwners}),(0,L.jsx)(i.Z,{sx:{marginBottom:"4px"},children:q(p.w.CurrentUsers)}),(0,L.jsx)(T.Z,{sx:{marginBottom:"10px"},name:"assignedUsers",defaultValues:null===U||void 0===U?void 0:U.assignedUsers})]}),(0,L.jsx)(u.z,{type:"submit",children:q(e?p.w.Save:p.w.CreateTodoListDialogHeader)})]}))})})},I=(0,j.memo)(O)},42027:function(n,t,e){e.d(t,{Gq:function(){return u},Wf:function(){return s}});var r=e(4942),o=e(66934),i=e(81918),a=e(25286),u=(0,o.ZP)("form")((function(n){var t=n.theme;return(0,r.Z)({display:"flex",flexDirection:"column",gap:10,padding:"10px 0"},t.breakpoints.up("sm"),{maxHeight:"70vh",overflowX:"hidden",overflowY:"auto"})})),s=(0,o.ZP)("div")({display:"flex",justifyContent:"center",alignItems:"center"});(0,o.ZP)(i.Z)((function(n){var t=n.theme;return{zIndex:1,backgroundColor:t.palette.primary.main,color:t.palette.secondary.contrastText,margin:"0 2px"}})),(0,o.ZP)(a.Z)({marginBottom:10,"& .MuiFormControl-root":{height:"unset"}})},14398:function(n,t,e){var r=e(29439),o=e(72791);t.Z=function(n,t){var e=(0,o.useState)(n),i=(0,r.Z)(e,2),a=i[0],u=i[1];return[a,function(){u(!1),setTimeout((function(){t({visible:!1})}),300)}]}},20718:function(n,t,e){e.d(t,{P:function(){return m}});var r=e(74165),o=e(15861),i=e(73418),a=e(91797),u=e(25983),s=e(35362),c=e(1413),d=e(96403),l=e(72791),f=e(57689),p=function(){var n=(0,d.NL)(),t=(0,f.UO)().todoListId;return(0,l.useCallback)((function(e){t&&n.setQueryData([s.kJ,(0,s.qB)(t),s.sF],(function(n){return n?(0,c.Z)((0,c.Z)({},e),{},{tasks:n.tasks}):{}})),n.setQueryData([s.kJ,s.sF],(function(n){return(null===n||void 0===n?void 0:n.map((function(n){return n.id===e.id?(0,c.Z)((0,c.Z)({},e),{},{tasks:n.tasks}):n})))||[]}))}),[n,t])},m=function(){var n=p(),t=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(t){var e,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.todoListId,o=t.data,n.abrupt("return",(0,a.pE)((0,u.o)(s.kJ,(0,s.qB)(e)),o).then((function(n){return n.data})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,i.D)(t,{onSuccess:n})}},85170:function(n,t,e){e.d(t,{X:function(){return r}});var r=function(n){return n.Pending="PENDING",n.Accepted="ACCEPTED",n.Rejected="REJECTED",n.ReOpened="REOPENED",n.Blocked="BLOCKED",n}({})},86426:function(n,t,e){e.d(t,{AK:function(){return i},RR:function(){return r},d:function(){return a},np:function(){return o},oy:function(){return u}});var r="/collaborants",o=function(n){return"/".concat(n||":collaborationId")},i="/inviteCollaborant",a="/reject",u="/accept"},35362:function(n,t,e){e.d(t,{Fq:function(){return o},kJ:function(){return i},qB:function(){return a},sF:function(){return r}});var r="extended",o="with-members",i="/todo-list",a=function(n){return"/".concat(n||":todoList")}}}]);
//# sourceMappingURL=0.4012ffcb.chunk.js.map