"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[893],{6893:function(t,n,o){o.r(n),o.d(n,{default:function(){return M}});var e=o(1413),i=o(29439),a=o(41368),r=o(51911),u=o(20890),d=o(41178),l=o(16606),s=o(9685),c=o(94141),f=o(97892),v=o.n(f),m=o(65762),D=o(14398),p=o(38153),h=o(50525),x=o(74165),Z=o(15861),w=o(73418),k=o(91797),j=o(25983),y=o(56607),T=o(38086),b=o(57547),I=o(799),g=o(72791),S=o(61134),A=o(39230),L=o(42027),P=o(56125),q=o(53201),C=o(80184),E=function(t){var n=t.control,o=(0,S.qo)();return(0,C.jsx)(P.Z,{in:o.notify,timeout:"auto",unmountOnExit:!0,children:(0,C.jsx)(q.Z,{control:n})})},O=(0,g.memo)(E),R=o(15853),V=o(66355),G=(0,o(66934).ZP)("div")({display:"flex"}),J=function(){var t=(0,m.q)(),n=t.dialogsState.taskDialog,o=n.editTaskData,f=n.todoListId,g=n.visible,P=t.dialogsActions.updateTaskDialog,q=(0,D.Z)(g,(function(){return P(p.g2)})),E=(0,i.Z)(q,2),J=E[0],M=E[1],N=(null===o||void 0===o?void 0:o.notifyDate)&&(0,V.R)(new Date(null===o||void 0===o?void 0:o.notifyDate),(null===o||void 0===o?void 0:o.startDate)&&new Date(null===o||void 0===o?void 0:o.startDate),(null===o||void 0===o?void 0:o.finishDate)&&new Date(null===o||void 0===o?void 0:o.finishDate)),z={text:(null===o||void 0===o?void 0:o.text)||"",startDate:(null===o||void 0===o?void 0:o.startDate)||null,finishDate:(null===o||void 0===o?void 0:o.finishDate)||null,minsAccordingToTimePoint:(null===N||void 0===N?void 0:N.minsAccordingToTimePoint)||15,beforeOrAfter:(null===N||void 0===N?void 0:N.beforeOrAfter)||"Before",timePoint:(null===N||void 0===N?void 0:N.timePoint)||"Start",notifyDate:(null===o||void 0===o?void 0:o.notifyDate)||new Date,important:null===o||void 0===o?void 0:o.important,notify:!(null===o||void 0===o||!o.notifyDate)},B=(0,S.cI)({defaultValues:z}),F=function(){var t=(0,b.Z)(),n=function(){var t=(0,Z.Z)((0,x.Z)().mark((function t(n,o){var e;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,j.o)((0,T.Ri)(n)),t.abrupt("return",(0,k.sg)(e,(0,y.J)(o)).then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})));return function(n,o){return t.apply(this,arguments)}}();return(0,w.D)((function(t){var o=t.todoListId,e=t.data;return n(o,e)}),{onSuccess:t})}(),X=(0,I.y)(),$=(0,A.$G)().t,H=B.handleSubmit,K=B.control,Q=B.getValues;return(0,C.jsx)(l.Z,{open:J,onClose:M,children:(0,C.jsx)(S.RV,(0,e.Z)((0,e.Z)({},B),{},{children:(0,C.jsxs)(L.Gq,{onSubmit:H((function(t){o?X.mutate({todoListId:f,taskId:o.id,data:t}):F.mutate({todoListId:f,data:t}),M()})),children:[(0,C.jsx)(u.Z,{variant:"h4",children:o?"".concat($(h.w.EditTask),": ").concat(o.text):$(h.w.AddTask)}),(0,C.jsx)(c.M,{name:"text",control:K,placeholder:$(h.w.TaskName)}),[{Icon:(0,C.jsx)(r.Z,{}),tooltipTitle:$(h.w.StartDate),name:"startDate",control:K,maxDate:v()(Q("startDate"))},{Icon:(0,C.jsx)(a.Z,{}),tooltipTitle:$(h.w.FinishDate),name:"finishDate",control:K,minDate:v()(Q("finishDate"))}].map((function(t,n){return(0,C.jsx)(R.Z,(0,e.Z)({},t),n)})),(0,C.jsxs)(G,{children:[(0,C.jsx)(s.x,{name:"notify",control:K,label:$(h.w.NotifyMe)}),(0,C.jsx)(s.x,{name:"important",control:K,label:$(h.w.TaskImportant)})]}),(0,C.jsx)(O,{control:B.control}),(0,C.jsx)(d.z,{type:"submit",children:$(o?h.w.Save:h.w.AddTask)})]})}))})},M=(0,g.memo)(J)},799:function(t,n,o){o.d(n,{y:function(){return c}});var e=o(74165),i=o(15861),a=o(73418),r=o(91797),u=o(25983),d=o(56607),l=o(38086),s=o(331),c=function(){var t=(0,s.Z)(),n=function(){var t=(0,i.Z)((0,e.Z)().mark((function t(n){var o,i,a;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.todoListId,i=n.taskId,a=n.data,t.abrupt("return",(0,r.pE)((0,u.o)((0,l.Xw)(o,i)),(0,d.J)(a)).then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,a.D)(n,{onSuccess:t})}}}]);
//# sourceMappingURL=893.6ecc6f62.chunk.js.map