"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[615],{11334:function(n,t,r){r.r(t),r.d(t,{default:function(){return q}});var i=r(72791),e=r(19201),a=r(29439),o=r(25216),s=r(43893),u=r(13967),d=r(95193),c=r(34855),l=r(4942),f=r(66934),g=(0,f.ZP)("main")((function(n){var t=n.theme;return(0,l.Z)({position:"absolute",width:"100%",top:15,padding:"0 15px"},t.breakpoints.up("sm"),{padding:"0 50px"})})),h=(0,f.ZP)("section",{shouldForwardProp:function(n){return"columns"!==n}})((function(n){var t=n.columns;return{display:"grid",gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridGap:20,maxWidth:"1000px",margin:"50px auto","& > div > div":{height:"100%",display:"flex",flexDirection:"column","& > div:nth-child(2)":{height:"100%"}}}})),m=r(93447),p=r(65509),v=r(68218),x=r(81939),Z=r(80184),j=function(n){var t=n.isSorting,r=n.wasDragging;return!t&&!r||(0,s.cP)(n)},k=function(n){var t=n.todoList,r=n.withShakeAnimation,i=(0,s.nB)({id:t.id,animateLayoutChanges:j}),e=i.isDragging,a=i.attributes,o=i.listeners,u=i.setNodeRef,d=i.transform,c=i.transition;return(0,Z.jsx)(x.r9,{isDragging:e,ref:u,transition:c,transform:v.ux.Transform.toString(d),children:(0,Z.jsx)(m.Z,{todoList:t,withShakeAnimation:r,draggingProps:{listeners:o,attributes:a,isDragging:e},actionsVariant:"menu"})})},D=(0,i.memo)(k),y=function(n){var t=n.setActiveId,r=n.setOrderedTodoLists,e=n.currentUser;return{handleDragStart:(0,i.useCallback)((function(n){t(n.active.id)}),[t]),handleDragEnd:(0,i.useCallback)((function(n){var i=n.active,a=n.over;i.id!==(null===a||void 0===a?void 0:a.id)&&r((function(n){var t=n.map((function(n){return n.id})),r=t.indexOf(i.id),o=t.indexOf(null===a||void 0===a?void 0:a.id);if(o){var u=(0,s.Rp)(n,r,o);return e&&localStorage.setItem((0,p.V)(null===e||void 0===e?void 0:e.id),JSON.stringify(u.map((function(n){return n.id})))),u}return n})),t(null)}),[e,t,r]),handleDragCancel:(0,i.useCallback)((function(){t(null)}),[t])}},C=function(n){var t=n.todoLists,r=(0,i.useState)(null),e=(0,a.Z)(r,2),l=e[0],f=e[1],g=(0,o.Dy)((0,o.VT)(o.MA),(0,o.VT)(o.LO)),v=(0,c.x)().currentUser,x=(0,i.useState)((0,p.C)(t,null===v||void 0===v?void 0:v.id)),j=(0,a.Z)(x,2),k=j[0],C=j[1];(0,i.useEffect)((function(){C((0,p.C)(t,null===v||void 0===v?void 0:v.id))}),[t,null===v||void 0===v?void 0:v.id]);var L=(0,u.Z)(),b=1;(0,d.Z)(L.breakpoints.up("md"))&&(b=2),(0,d.Z)(L.breakpoints.up("xl"))&&(b=3);var w=t.find((function(n){return n.id===l})),S=y({setActiveId:f,setOrderedTodoLists:C,currentUser:v}),T=S.handleDragStart,A=S.handleDragEnd,P=S.handleDragCancel;return(0,Z.jsxs)(o.LB,{measuring:{droppable:{strategy:o.uN.Always}},sensors:g,collisionDetection:o.pE,onDragStart:T,onDragEnd:A,onDragCancel:P,children:[(0,Z.jsx)(s.Fo,{items:k,strategy:s.U2,children:(0,Z.jsx)(h,{columns:b,children:k.map((function(n){return(0,Z.jsx)(D,{todoList:n,withShakeAnimation:!!l&&l!==n.id},n.id)}))})}),(0,Z.jsx)(o.y9,{adjustScale:!0,style:{transformOrigin:"0 0 "},children:l&&w?(0,Z.jsx)(m.Z,{todoList:w,actionsVariant:"menu"}):null})]})},L=(0,i.memo)(C),b=r(61889),w=r(47047),S=function(){return(0,Z.jsx)(b.ZP,{container:!0,spacing:5,children:Array.from({length:6},(function(){return Math.floor(41*Math.random())+180})).map((function(n,t){return(0,Z.jsx)(b.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,Z.jsx)(w.Z,{height:"".concat(n,"px")})},t)}))})},T=r(41178),A=r(65762),P=r(50525),O=r(39230),F=r(20890),E=(0,f.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2rem"}),V=((0,f.ZP)(F.Z)((function(n){return{color:n.theme.palette.primary.contrastText}})),function(){var n=(0,A.q)().dialogsActions,t=(0,O.$G)().t;return(0,Z.jsx)(E,{children:(0,Z.jsx)(T.z,{onClick:function(){n.updateTodoListDialog({visible:!0})},children:t(P.w.CreateNewTodoList)})})}),I=(0,i.memo)(V),M=r(74165),N=r(15861),U=r(12917),J=r(91797),R=r(25983),B=r(35362),G=function(){var n=function(n){var t=(0,R.o)(B.kJ,"",(0,l.Z)({},B.sF,"true")),r=function(){var n=(0,N.Z)((0,M.Z)().mark((function n(){return(0,M.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,J.R1)(t).then((function(n){return n.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,U.a)([B.kJ,B.sF],r,n)}(),t=(0,i.useMemo)((function(){var t;return n.isLoading?(0,Z.jsx)(S,{}):n.isFetched&&null!==(t=n.data)&&void 0!==t&&t.length?(0,Z.jsx)(L,{todoLists:n.data||[]}):(0,Z.jsx)(e.Z,{})}),[n.data,n.isFetched,n.isLoading]);return(0,Z.jsxs)(g,{children:[(0,Z.jsx)(I,{}),t]})},q=(0,i.memo)(G)}}]);
//# sourceMappingURL=615.8d72f9b3.chunk.js.map