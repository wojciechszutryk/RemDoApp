"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[929],{16489:function(n,t,i){i.r(t),i.d(t,{default:function(){return U}});var r=i(72791),e=i(19201),a=i(29439),o=i(25216),s=i(43893),d=i(13967),u=i(95193),l=i(34855),c=i(4942),g=i(66934),f=(0,g.ZP)("main")((function(n){var t=n.theme;return(0,c.Z)({position:"absolute",width:"100%",top:15,padding:"0 15px"},t.breakpoints.up("sm"),{padding:"0 50px"})})),m=(0,g.ZP)("section",{shouldForwardProp:function(n){return"columns"!==n}})((function(n){var t=n.columns;return{display:"grid",gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridGap:20,maxWidth:"1000px",margin:"50px auto","& > div > div":{height:"100%",display:"flex",flexDirection:"column","& > div:nth-child(2)":{height:"100%"}}}})),h=i(93447),p=i(65509),v=i(68218),x=i(81939),j=i(80184),D=function(n){var t=n.isSorting,i=n.wasDragging;return!t&&!i||(0,s.cP)(n)},Z=function(n){var t=n.todoList,i=n.withShakeAnimation,r=(0,s.nB)({id:t.id,animateLayoutChanges:D}),e=r.isDragging,a=r.attributes,o=r.listeners,d=r.setNodeRef,u=r.transform,l=r.transition;return(0,j.jsx)(x.r9,{isDragging:e,ref:d,transition:l,transform:v.ux.Transform.toString(u),children:(0,j.jsx)(h.Z,{todoList:t,withShakeAnimation:i,draggingProps:{listeners:o,attributes:a,isDragging:e},actionsVariant:"menu"})})},C=(0,r.memo)(Z),L=function(n){var t=n.setActiveId,i=n.setOrderedTodoLists,e=n.currentUser;return{handleDragStart:(0,r.useCallback)((function(n){t(n.active.id)}),[t]),handleDragEnd:(0,r.useCallback)((function(n){var r=n.active,a=n.over;r.id!==(null===a||void 0===a?void 0:a.id)&&i((function(n){var t=n.map((function(n){return n.id})),i=t.indexOf(r.id),o=t.indexOf(null===a||void 0===a?void 0:a.id);if(o){var d=(0,s.Rp)(n,i,o);return e&&localStorage.setItem((0,p.V)(null===e||void 0===e?void 0:e.id),JSON.stringify(d.map((function(n){return n.id})))),d}return n})),t(null)}),[e,t,i]),handleDragCancel:(0,r.useCallback)((function(){t(null)}),[t])}},k=function(n){var t=n.todoLists,i=(0,r.useState)(null),e=(0,a.Z)(i,2),c=e[0],g=e[1],f=(0,o.Dy)((0,o.VT)(o.MA),(0,o.VT)(o.LO)),v=(0,l.x)().currentUser,x=(0,r.useState)((0,p.C)(t,null===v||void 0===v?void 0:v.id)),D=(0,a.Z)(x,2),Z=D[0],k=D[1];(0,r.useEffect)((function(){k((0,p.C)(t,null===v||void 0===v?void 0:v.id))}),[t,null===v||void 0===v?void 0:v.id]);var y=(0,d.Z)(),b=1;(0,u.Z)(y.breakpoints.up("md"))&&(b=2),(0,u.Z)(y.breakpoints.up("xl"))&&(b=3);var S=t.find((function(n){return n.id===c})),w=L({setActiveId:g,setOrderedTodoLists:k,currentUser:v}),T=w.handleDragStart,A=w.handleDragEnd,P=w.handleDragCancel;return(0,j.jsxs)(o.LB,{measuring:{droppable:{strategy:o.uN.Always}},sensors:f,collisionDetection:o.pE,onDragStart:T,onDragEnd:A,onDragCancel:P,children:[(0,j.jsx)(s.Fo,{items:Z,strategy:s.U2,children:(0,j.jsx)(m,{columns:b,children:Z.map((function(n){return(0,j.jsx)(C,{todoList:n,withShakeAnimation:!!c&&c!==n.id},n.id)}))})}),(0,j.jsx)(o.y9,{adjustScale:!0,style:{transformOrigin:"0 0 "},children:c&&S?(0,j.jsx)(h.Z,{todoList:S,actionsVariant:"menu"}):null})]})},y=(0,r.memo)(k),b=i(61889),S=i(47047),w=function(){return(0,j.jsx)(b.ZP,{container:!0,spacing:5,children:Array.from({length:6},(function(){return Math.floor(41*Math.random())+180})).map((function(n,t){return(0,j.jsx)(b.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,j.jsx)(S.Z,{height:"".concat(n,"px")})},t)}))})},T=i(41178),A=i(65762),P=i(50525),O=i(39230),E=i(20890),V=(0,g.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2rem"}),F=((0,g.ZP)(E.Z)((function(n){return{color:n.theme.palette.primary.contrastText}})),function(){var n=(0,A.q)().dialogsActions,t=(0,O.$G)().t;return(0,j.jsx)(V,{children:(0,j.jsx)(T.z,{onClick:function(){n.updateTodoListDialog({visible:!0})},children:t(P.w.CreateNewTodoList)})})}),I=(0,r.memo)(F),M=i(31939),N=function(){var n=(0,M.g)(),t=(0,r.useMemo)((function(){var t;return n.isLoading?(0,j.jsx)(w,{}):n.isFetched&&null!==(t=n.data)&&void 0!==t&&t.length?(0,j.jsx)(y,{todoLists:n.data||[]}):(0,j.jsx)(e.Z,{})}),[n.data,n.isFetched,n.isLoading]);return(0,j.jsxs)(f,{children:[(0,j.jsx)(I,{}),t]})},U=(0,r.memo)(N)}}]);
//# sourceMappingURL=929.72d17ed9.chunk.js.map