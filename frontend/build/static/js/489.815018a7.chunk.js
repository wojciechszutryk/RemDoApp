"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[489],{16489:function(n,t,i){i.r(t),i.d(t,{default:function(){return U}});var e=i(50525),r=i(72791),a=i(39230),o=i(19201),s=i(29439),d=i(25216),u=i(43893),l=i(13967),c=i(95193),f=i(34855),g=i(4942),m=i(66934),h=(0,m.ZP)("main")((function(n){var t=n.theme;return(0,g.Z)({position:"absolute",width:"100%",top:15,padding:"0 15px"},t.breakpoints.up("sm"),{padding:"0 50px"})})),v=(0,m.ZP)("section",{shouldForwardProp:function(n){return"columns"!==n}})((function(n){var t=n.columns;return{display:"grid",gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridGap:20,maxWidth:"1000px",margin:"50px auto","& > div > div":{height:"100%",display:"flex",flexDirection:"column","& > div:nth-child(2)":{height:"100%"}}}})),p=i(70156),x=i(65509),j=i(68218),D=i(81939),L=i(80184),Z=function(n){var t=n.isSorting,i=n.wasDragging;return!t&&!i||(0,u.cP)(n)},y=function(n){var t=n.todoList,i=n.withShakeAnimation,e=(0,u.nB)({id:t.id,animateLayoutChanges:Z}),r=e.isDragging,a=e.attributes,o=e.listeners,s=e.setNodeRef,d=e.transform,l=e.transition;return(0,L.jsx)(D.r9,{isDragging:r,ref:s,transition:l,transform:j.ux.Transform.toString(d),children:(0,L.jsx)(p.Z,{todoList:t,withShakeAnimation:i,draggingProps:{listeners:o,attributes:a,isDragging:r},actionsVariant:"menu"})})},C=(0,r.memo)(y),k=function(n){var t=n.setActiveId,i=n.setOrderedTodoLists,e=n.currentUser;return{handleDragStart:(0,r.useCallback)((function(n){t(n.active.id)}),[t]),handleDragEnd:(0,r.useCallback)((function(n){var r=n.active,a=n.over;r.id!==(null===a||void 0===a?void 0:a.id)&&i((function(n){var t=n.findIndex((function(n){return n.id===r.id})),i=n.findIndex((function(n){return n.id===(null===a||void 0===a?void 0:a.id)}));if(-1!==i){var o=(0,u.Rp)(n,t,i);return e&&localStorage.setItem((0,x.V)(null===e||void 0===e?void 0:e.id),JSON.stringify(o.map((function(n){return n.id})))),o}return n})),t(null)}),[e,t,i]),handleDragCancel:(0,r.useCallback)((function(){t(null)}),[t])}},b=function(n){var t=n.todoLists,i=(0,r.useState)(null),e=(0,s.Z)(i,2),a=e[0],o=e[1],g=(0,d.Dy)((0,d.VT)(d.MA),(0,d.VT)(d.LO)),m=(0,f.x)().currentUser,h=(0,r.useState)((0,x.C)(t,null===m||void 0===m?void 0:m.id)),j=(0,s.Z)(h,2),D=j[0],Z=j[1];(0,r.useEffect)((function(){Z((0,x.C)(t,null===m||void 0===m?void 0:m.id))}),[t,null===m||void 0===m?void 0:m.id]);var y=(0,l.Z)(),b=1;(0,c.Z)(y.breakpoints.up("md"))&&(b=2),(0,c.Z)(y.breakpoints.up("xl"))&&(b=3);var w=t.find((function(n){return n.id===a})),S=k({setActiveId:o,setOrderedTodoLists:Z,currentUser:m}),T=S.handleDragStart,P=S.handleDragEnd,A=S.handleDragCancel;return(0,L.jsxs)(d.LB,{measuring:{droppable:{strategy:d.uN.Always}},sensors:g,collisionDetection:d.pE,onDragStart:T,onDragEnd:P,onDragCancel:A,children:[(0,L.jsx)(u.Fo,{items:D,strategy:u.U2,children:(0,L.jsx)(v,{columns:b,children:D.map((function(n){return(0,L.jsx)(C,{todoList:n,withShakeAnimation:!!a&&a!==n.id},n.id)}))})}),(0,L.jsx)(d.y9,{adjustScale:!0,style:{transformOrigin:"0 0 "},children:a&&w?(0,L.jsx)(p.Z,{todoList:w,actionsVariant:"menu"}):null})]})},w=(0,r.memo)(b),S=i(61889),T=i(47047),P=function(){return(0,L.jsx)(S.ZP,{container:!0,spacing:5,children:Array.from({length:6},(function(){return Math.floor(41*Math.random())+180})).map((function(n,t){return(0,L.jsx)(S.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,L.jsx)(T.Z,{height:"".concat(n,"px")})},t)}))})},A=i(41178),E=i(65762),I=i(20890),M=(0,m.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2rem"}),O=((0,m.ZP)(I.Z)((function(n){return{color:n.theme.palette.primary.contrastText}})),function(){var n=(0,E.q)().dialogsActions,t=(0,a.$G)().t;return(0,L.jsx)(M,{children:(0,L.jsx)(A.z,{onClick:function(){n.updateTodoListDialog({visible:!0})},children:t(e.w.CreateNewTodoList)})})}),V=(0,r.memo)(O),F=i(31939),N=function(){var n=(0,a.$G)().t,t=(0,F.g)();(0,r.useLayoutEffect)((function(){var t="".concat(n(e.w.PageTitleMain)," - ").concat(n(e.w.PageTitleTodoLists));document.title=t}),[]);var i=(0,r.useMemo)((function(){var n;return t.isLoading?(0,L.jsx)(P,{}):t.isFetched&&null!==(n=t.data)&&void 0!==n&&n.length?(0,L.jsx)(w,{todoLists:t.data||[]}):(0,L.jsx)(o.Z,{})}),[t.data,t.isFetched,t.isLoading]);return(0,L.jsxs)(h,{children:[(0,L.jsx)(V,{}),i]})},U=(0,r.memo)(N)}}]);
//# sourceMappingURL=489.815018a7.chunk.js.map