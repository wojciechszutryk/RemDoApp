"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[185],{63185:function(t,n,e){e.r(n),e.d(n,{default:function(){return A}});var o=e(1413),i=e(29439),r=e(20890),a=e(41178),u=e(16606),d=e(9685),l=e(94141),s=e(65762),c=e(14398),f=e(38153),v=e(50525),m=e(51497),p=e(799),x=e(72791),h=e(61134),D=e(39230),w=e(42027),y=e(56125),Z=e(53201),k=e(80184),j=function(t){var n=t.control,e=(0,h.qo)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(y.Z,{in:e.notify,timeout:"auto",style:{minHeight:"unset"},children:(0,k.jsx)(Z.Z,{control:n})})})},b=(0,x.memo)(j),T=e(65340),g=e(66355),I=(0,e(66934).ZP)("div")({display:"flex"}),S=function(){var t,n,e=(0,s.q)(),y=e.dialogsState.taskDialog,Z=y.editTaskData,j=y.todoListId,S=y.visible,A=e.dialogsActions.updateTaskDialog,q=(0,x.useRef)(null),L=(0,c.Z)(S,(function(){return A(f.g2)})),P=(0,i.Z)(L,2),R=P[0],F=P[1],N=(null===Z||void 0===Z?void 0:Z.notifyDate)&&(0,g.R)(new Date(null===Z||void 0===Z?void 0:Z.notifyDate),(null===Z||void 0===Z?void 0:Z.startDate)&&new Date(null===Z||void 0===Z?void 0:Z.startDate),(null===Z||void 0===Z?void 0:Z.finishDate)&&new Date(null===Z||void 0===Z?void 0:Z.finishDate)),C={text:(null===Z||void 0===Z?void 0:Z.text)||"",startDate:null===Z||void 0===Z?void 0:Z.startDate,finishDate:(null===Z||void 0===Z?void 0:Z.finishDate)||null,minsAccordingToTimePoint:(null===N||void 0===N?void 0:N.minsAccordingToTimePoint)||15,beforeOrAfter:(null===N||void 0===N?void 0:N.beforeOrAfter)||"Before",timePoint:(null===N||void 0===N?void 0:N.timePoint)||"Start",notifyDate:(null===Z||void 0===Z?void 0:Z.notifyDate)||new Date(Date.now()+855e5),important:null===Z||void 0===Z?void 0:Z.important,notify:!(null===Z||void 0===Z||!Z.notifyDate)},E=(0,h.cI)({defaultValues:C}),G=(0,m.N)(),J=(0,p.y)(),M=(0,D.$G)().t,O=E.handleSubmit,V=E.control,z=E.setFocus;return(0,x.useEffect)((function(){z("text")}),[z]),(0,k.jsx)(u.Z,{open:R,onClose:F,children:(0,k.jsx)(h.RV,(0,o.Z)((0,o.Z)({},E),{},{children:(0,k.jsxs)(w.Gq,{onSubmit:O((function(t){t.notify||(t.notifyDate=null),Z?J.mutate({todoListId:j,taskId:Z.id,data:t}):G.mutate({todoListId:j,data:t}),F()})),children:[(0,k.jsx)(r.Z,{variant:"h4",children:Z?"".concat(M(v.w.EditTask),": ").concat(Z.text):M(v.w.AddTask)}),(0,k.jsx)(l.M,{autoFocus:!0,ref:q,name:"text",error:!(null===(t=E.formState.errors)||void 0===t||!t.text),helperText:"required"===(null===(n=E.formState.errors.text)||void 0===n?void 0:n.type)&&M(v.w.FieldRequired),control:V,placeholder:M(v.w.TaskName)}),(0,k.jsx)(T.Z,{}),(0,k.jsxs)(I,{children:[(0,k.jsx)(d.x,{name:"notify",control:V,label:M(v.w.NotifyMe)}),(0,k.jsx)(d.x,{name:"important",control:V,label:M(v.w.TaskImportant)})]}),(0,k.jsx)(b,{control:E.control}),(0,k.jsx)(a.z,{type:"submit",children:M(Z?v.w.Save:v.w.AddTask)})]})}))})},A=(0,x.memo)(S)},51497:function(t,n,e){e.d(n,{N:function(){return c}});var o=e(74165),i=e(15861),r=e(73418),a=e(91797),u=e(25983),d=e(56607),l=e(38086),s=e(57547),c=function(){var t=(0,s.Z)(),n=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n,e){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,u.o)((0,l.Ri)(n)),t.abrupt("return",(0,a.sg)(i,(0,d.J)(e)).then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();return(0,r.D)((function(t){var e=t.todoListId,o=t.data;return n(e,o)}),{onSuccess:t})}},799:function(t,n,e){e.d(n,{y:function(){return c}});var o=e(74165),i=e(15861),r=e(73418),a=e(91797),u=e(25983),d=e(56607),l=e(38086),s=e(331),c=function(){var t=(0,s.Z)(),n=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(n){var e,i,r;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.todoListId,i=n.taskId,r=n.data,t.abrupt("return",(0,a.pE)((0,u.o)((0,l.Xw)(e,i)),(0,d.J)(r)).then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,r.D)(n,{onSuccess:t})}}}]);
//# sourceMappingURL=185.85ad777d.chunk.js.map