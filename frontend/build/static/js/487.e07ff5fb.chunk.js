"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[487],{16606:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(45987),i=t(1413),o=t(29823),a=t(55931),u=t(72791),c=t(4942),s=t(66934),d=t(13400),l=t(73542),p=(0,s.ZP)("div")((function(e){var n=e.theme;return(0,c.Z)({backgroundColor:n.palette.primary.light,padding:10,height:"100vh",borderRadius:"20px",overflowY:"auto"},n.breakpoints.up("sm"),{height:"auto",padding:"55px",borderRadius:"200px"})})),f=(0,s.ZP)(d.Z)((function(e){var n=e.theme;return(0,c.Z)({position:"absolute",backgroundColor:n.palette.primary.main,borderRadius:"150px 200px 130px 170px",top:0,right:2,width:30,height:30,transition:"0.3s","&:hover":{backgroundColor:n.palette.primary.main,opacity:.8}},n.breakpoints.up("sm"),{top:-19,right:2})})),h=(0,s.ZP)(l.Z)((function(e){var n,t=e.theme;return{".MuiDialog-root":{padding:"0px"},".MuiDialog-container":{padding:"0px"},".MuiDialog-paper":(n={position:"absolute",top:0,overflow:"visible",backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,boxSizing:"border-box",width:"100%",minHeight:"100vh",margin:"0px",maxWidth:"none",padding:"10px"},(0,c.Z)(n,t.breakpoints.up("sm"),{top:"50%",width:"518px",minHeight:"fit-content",borderRadius:"200px 210px 200px 155px",transform:"rotate(5deg) translateY(-50%)","& > *":{transform:"rotate(-5deg)"}}),(0,c.Z)(n,t.breakpoints.up("md"),{height:"auto",width:"573px"}),(0,c.Z)(n,t.breakpoints.up("lg"),{width:"618px"}),(0,c.Z)(n,t.breakpoints.up("xl"),{height:"fit-content",width:"750px"}),n)}})),m=t(80184),x=["children"],v=(0,u.forwardRef)((function(e,n){return(0,m.jsx)(a.Z,(0,i.Z)({direction:"down",ref:n,in:!0},e))})),Z=function(e){var n=e.children,t=(0,r.Z)(e,x);return(0,m.jsxs)(h,(0,i.Z)((0,i.Z)({},t),{},{TransitionComponent:v,keepMounted:!0,children:[(0,m.jsx)(p,{children:n}),t.onClose&&(0,m.jsx)(f,{onClick:function(e){var n;return null===(n=t.onClose)||void 0===n?void 0:n.call(t,e,"backdropClick")},children:(0,m.jsx)(o.Z,{})})]}))},g=(0,u.memo)(Z)},46304:function(e,n,t){t.d(n,{O:function(){return u}});var r=t(1413),i=t(66934),o=t(43896),a=t(80184),u=(0,i.ZP)((function(e){return(0,a.jsx)(o.Z,(0,r.Z)({disableRipple:!0},e))}))((function(e){var n=e.theme;return{textTransform:"none",color:n.palette.secondary.main,fontWeight:800,"&:hover":{color:n.palette.secondary.light},"&.Mui-selected":{color:n.palette.primary.contrastText},"&.Mui-focusVisible":{backgroundColor:n.palette.primary.contrastText}}}))},28163:function(e,n,t){var r=t(1413),i=t(45987),o=t(97552),a=t(72791),u=t(80184),c=["width","children","value","index","key","offsetTop"],s=function(e){var n=e.width,t=e.children,a=e.value,s=e.index,d=e.key,l=e.offsetTop,p=(0,i.Z)(e,c);return(0,u.jsx)(o.E.div,{style:{position:"absolute",top:null!==l&&void 0!==l?l:0},initial:{opacity:0,translateX:0===s?-1*n:n,zIndex:0},exit:{opacity:0,translateX:0===s?n:-1*n,zIndex:1},animate:{opacity:1,translateX:0},transition:{duration:.3},children:(0,u.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",style:{width:"".concat(n,"px"),padding:"15px"},hidden:a!==s,id:"tabpanel-".concat(s)},p),{},{children:(0,u.jsx)("div",{children:t})}))},d)};n.Z=(0,a.memo)(s)},64694:function(e,n,t){t.d(n,{f:function(){return d}});var r=t(74165),i=t(15861),o=t(12917),a=t(91797),u=t(25983),c=t(86426),s=t(69061),d=function(e){var n=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.R1)((0,u.o)(s.CU+c.RR)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.a)([s.CU+c.RR],n,e)}},33093:function(e,n,t){t.d(n,{Jn:function(){return u},nR:function(){return c},yW:function(){return s}});var r=t(4942),i=t(66934),o=t(73974),a=t(49900),u=(0,i.ZP)(o.ZP)({padding:10}),c=(0,i.ZP)("div")((function(e){var n,t=e.theme;return n={width:"300px"},(0,r.Z)(n,t.breakpoints.up("sm"),{width:"450px"}),(0,r.Z)(n,"borderBottom",1),(0,r.Z)(n,"borderColor","divider"),n})),s=(0,i.ZP)(a.Z)((function(e){var n=e.theme;return{borderBottom:1,borderColor:"divider","& span":(0,r.Z)({width:"158px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.breakpoints.up("sm"),{width:"308px"})}}))},97938:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(1413),i=t(93433),o=t(45987),a=t(29170),u=t(34855),c=t(50525),s=t(85170),d=t(72791),l=t(61134),p=t(39230),f=t(64694),h=t(66934),m=t(81918),x=t(25286),v=(0,h.ZP)(m.Z)((function(e){var n=e.theme;return{zIndex:1,backgroundColor:n.palette.primary.main,color:n.palette.secondary.contrastText,margin:"0 2px"}})),Z=(0,h.ZP)(x.Z)({"& .MuiFormControl-root":{height:"unset"}}),g=t(80184),b=["name","defaultValues"],w=function(e){var n=e.name,t=e.defaultValues,h=(0,o.Z)(e,b),m=(0,p.$G)().t,x=(0,l.qo)(),w=(0,l.Gc)().setValue,C=x[n],y=(0,u.x)().currentUser,k=(0,f.f)(),E=(0,d.useMemo)((function(){var e,n=new Set;return null===(e=k.data)||void 0===e||e.forEach((function(e){e.state===s.X.Accepted&&(n.add(e.creator.email),n.add(e.user.email))})),Array.from(n)}),[k.data]),T=(0,d.useMemo)((function(){return Array.from(new Set([].concat((0,i.Z)(E),(0,i.Z)(t.map((function(e){return e.email}))))))}),[E,t]),j=(0,d.useMemo)((function(){var e,n=new Map;return null===(e=k.data)||void 0===e||e.forEach((function(e){e.state===s.X.Accepted&&(n.set(e.creator.email,e.creator),n.set(e.user.email,e.user))})),t.forEach((function(e){n.set(e.email,e)})),n}),[t,k.data]),R=null===C||void 0===C?void 0:C.map((function(e){return e.email}));return(0,g.jsx)(Z,(0,r.Z)((0,r.Z)({},h),{},{renderTags:function(){return null===C||void 0===C?void 0:C.map((function(e,t){return(0,g.jsx)(v,{label:e.email,disabled:e.email===(null===y||void 0===y?void 0:y.email)||!(!e.email||E.includes(e.email)),onDelete:function(){var t=null===C||void 0===C?void 0:C.filter((function(n){return n!==e}));w(n,t)}},t)}))},multiple:!0,options:T.filter((function(e){return!(null!==R&&void 0!==R&&R.includes(e))})),onChange:function(e,t){var r=[];t.forEach((function(e){var n=j.get(e);n&&r.push(n)})),w(n,r)},defaultValue:t.map((function(e){return e.email})),renderInput:function(e){return(0,g.jsx)(a.n,(0,r.Z)((0,r.Z)({},e),{},{InputLabelProps:void 0}))},noOptionsText:m(c.w.NoCollaborantOption)}))},C=(0,d.memo)(w)},29487:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(29439),i=t(95193),o=t(18073),a=t(16606),u=t(46304),c=t(83791),s=t(65762),d=t(14398),l=t(38153),p=t(50525),f=t(72791),h=t(39230),m=t(28163),x=t(33093),v=t(27247),Z=t(20890),g=t(3721),b=t(47047),w=t(13400),C=t(41178),y=t(62217),k=t(50194),E=t(20068),T=t(66934),j=t(24808),R=(0,T.ZP)("div")((function(e){var n=e.theme;return{display:"flex",alignItems:"center",justifyContent:"space-between",height:46,"& > div":{flex:1,display:"flex",padding:"3px 15px 3px 5px",marginRight:5,backgroundColor:n.palette.primary.main,borderRadius:"20px",color:n.palette.background.default,"& > button:first-of-type":{"& > svg":{color:n.palette.background.paper},padding:"3px",height:44},"& > textarea":{flex:1,resize:"none",lineHeight:1.4,padding:3,border:"none",outline:"none",backgroundColor:n.palette.primary.main,color:n.palette.background.default}}}})),L=(0,T.ZP)(j.Z)({"& .MuiAccordionDetails-root":{padding:"5px 10px",display:"flex",flexDirection:"column",gap:10},"&.Mui-expanded":{margin:"0 !important"},"& .MuiAccordionSummary-root.Mui-expanded":{minHeight:"unset"}}),D=t(80184),P=function(e){var n=e.text,t=e.children,i=(0,h.$G)().t,o=(0,f.useState)(!1),a=(0,r.Z)(o,2),u=a[0],c=a[1],s=function(){c(!0),setTimeout((function(){c(!1)}),3e3)};return(0,D.jsxs)(R,{children:[(0,D.jsxs)("div",{children:[(0,D.jsx)(E.Z,{disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0,title:i(p.w.Copied),open:u,children:(0,D.jsx)(w.Z,{onClick:function(e){return function(){navigator.clipboard.writeText(e),s()}}(n),children:(0,D.jsx)(k.Z,{})})}),(0,D.jsx)("textarea",{value:n,disabled:!0,rows:2})]}),t]})},S=(0,f.memo)(P),I=t(4942),A=t(1413),O=t(74165),M=t(15861),V=t(96403),z=t(73418),N=t(91797),B=t(25983),_=t(16215),H=t(35362),q=t(12917),G=function(e){var n=e.todoListId,t=(0,h.$G)().t,i=function(e,n){var t=function(){var n=(0,M.Z)((0,O.Z)().mark((function n(){return(0,O.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,N.R1)((0,B.o)(_.w6,H.kJ+(0,H.qB)(e))).then((function(e){return e.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,q.a)([_.w6,H.kJ,(0,H.qB)(e)],t,n)}(n),o=i.isLoading,a=i.isFetched,u=i.data,c=function(e){var n=(0,V.NL)(),t=function(){var n=(0,M.Z)((0,O.Z)().mark((function n(t){var r;return(0,O.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,B.o)(_.w6,"".concat(H.kJ).concat((0,H.qB)(e)).concat(_.Vb).concat((0,_.GM)(t))),n.abrupt("return",(0,N.sg)(r,null).then((function(e){return e.data})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,z.D)(t,{onSuccess:function(t,r){n.setQueryData([_.w6,H.kJ,(0,H.qB)(e)],(function(e){if(e)return(0,A.Z)((0,A.Z)({},e),{},(0,I.Z)({},r,t))}))}})}(n),s=function(e){var n=(0,V.NL)(),t=function(){var n=(0,M.Z)((0,O.Z)().mark((function n(t){var r;return(0,O.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,B.o)(_.w6,"".concat(H.kJ).concat((0,H.qB)(e)).concat(_.Vb).concat((0,_.GM)(t))),n.abrupt("return",(0,N.QW)(r).then((function(e){return e.data})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,z.D)(t,{onSuccess:function(t,r){n.setQueryData([_.w6,H.kJ,(0,H.qB)(e)],(function(e){if(e)return(0,A.Z)((0,A.Z)({},e),{},(0,I.Z)({},r,void 0))}))}})}(n),d=function(e){return function(){c.mutate(e)}},l=function(e){return function(){s.mutate(e)}},m=(0,f.useState)(!1),x=(0,r.Z)(m,2),k=x[0],E=x[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Z.Z,{mb:3,children:t(p.w.CreateTodoShareLinkDescription)}),Object.values(y.P).map((function(e){var n,r=null===u||void 0===u?void 0:u[e];return(0,D.jsx)(L,{expanded:k===e,onChange:(n=e,function(e,t){E(!!t&&n)}),summaryText:t(p.w[e]),children:(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(Z.Z,{children:t(p.w["".concat(e,"DESCRIPTION")])}),o?(0,D.jsx)(b.Z,{}):a&&r?(0,D.jsx)(S,{text:r,children:(0,D.jsx)(w.Z,{disabled:s.isLoading,children:(0,D.jsx)(v.Z,{onClick:l(e)})})}):(0,D.jsx)(C.z,{onClick:d(e),disabled:c.isLoading,children:t(p.w.CreateTodoAccessLink)})]})},e)}))]})},U=(0,f.memo)(G),W=t(97938),J=t(89166),F=t(16397),X=t(61134),K=function(e){var n=e.onSuccess,t=(0,s.q)().dialogsState.shareTodoListDialog,r=t.assignedOwners,i=t.assignedUsers,o=t.todoListId,a=t.todoListName,u={assignedOwners:r,assignedUsers:i},c=(0,X.cI)({defaultValues:u}),d=(0,F.P)(),l=(0,h.$G)().t;return(0,D.jsx)(J.Gq,{onSubmit:c.handleSubmit((function(e){d.mutate({todoListId:o,data:{assignedUsers:e.assignedUsers.map((function(e){return e.email})),assignedOwners:e.assignedOwners.map((function(e){return e.email}))}}),n()})),style:{overflowY:"auto"},children:(0,D.jsxs)(X.RV,(0,A.Z)((0,A.Z)({},c),{},{children:[(0,D.jsxs)(Z.Z,{variant:"h6",children:[l(p.w.ShareTodoList),": ",a]}),(0,D.jsx)(Z.Z,{children:l(p.w.CurrentOwners)}),(0,D.jsx)(W.Z,{name:"assignedOwners",defaultValues:null===u||void 0===u?void 0:u.assignedOwners}),(0,D.jsx)(Z.Z,{children:l(p.w.CurrentUsers)}),(0,D.jsx)(W.Z,{name:"assignedUsers",defaultValues:null===u||void 0===u?void 0:u.assignedUsers}),(0,D.jsx)(C.z,{type:"submit",children:l(p.w.Save)})]}))})},$=(0,f.memo)(K),Q=function(){var e=(0,h.$G)().t,n=(0,f.useState)(0),t=(0,r.Z)(n,2),v=t[0],Z=t[1],g=(0,s.q)(),b=g.dialogsState.shareTodoListDialog,w=b.visible,C=b.todoListId,y=g.dialogsActions.updateShareTodoListDialog,k=(0,d.Z)(w,(function(){return y(l.WB)})),E=(0,r.Z)(k,2),T=E[0],j=E[1],R=(0,i.Z)("(max-width:500px)")?300:400;return(0,D.jsxs)(a.Z,{open:T,onClose:j,sx:{"& .MuiDialog-paper":{overflow:"hidden","& > div":{position:"relative"}}},children:[(0,D.jsx)(x.nR,{style:{width:"".concat(R,"px")},children:(0,D.jsxs)(o.Z,{value:v,onChange:function(e,n){Z(n)},children:[(0,D.jsx)(u.O,{label:e(p.w.CreateTodoShareLink),value:0,sx:{width:R/2},id:"CollaborantsList"}),(0,D.jsx)(u.O,{label:e(p.w.InviteCollaborantsToTodoList),value:1,sx:{width:R/2},id:"CollaborantsSearch"})]})}),(0,D.jsx)("div",{style:{height:420,overflow:"hidden",position:"relative"},children:(0,D.jsxs)(c.M,{children:[(0,D.jsx)(m.Z,{value:0,index:v,width:R,children:(0,D.jsx)(U,{todoListId:C})},"".concat(v,"-0")),(0,D.jsx)(m.Z,{value:1,index:v,width:R,children:(0,D.jsx)($,{onSuccess:j})},"".concat(v,"-1"))]})})]})},Y=(0,f.memo)(Q)},14398:function(e,n,t){var r=t(29439),i=t(72791);n.Z=function(e,n){var t=(0,i.useState)(e),o=(0,r.Z)(t,2),a=o[0],u=o[1];return[a,function(){u(!1),setTimeout((function(){n({visible:!1})}),300)}]}},89166:function(e,n,t){t.d(n,{Fn:function(){return d},Gq:function(){return c},H6:function(){return o},OD:function(){return a},SD:function(){return u},cr:function(){return s}});var r=t(4942),i=t(66934),o=(0,i.ZP)("div")((function(e){var n=e.theme;return(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",overflow:"visible",backgroundColor:n.palette.secondary.light,color:n.palette.secondary.contrastText,padding:"50px 60px",backgroundImage:"url(".concat("","/images/wave-doodles.png)"),borderRadius:"200px 210px 200px 155px","@keyframes borderWave":{"0%":{borderRadius:"200px 210px 200px 155px"},"25%":{borderRadius:"210px 200px 190px 175px"},"50%":{borderRadius:"220px 190px 200px 195px"},"75%":{borderRadius:"210px 200px 190px 175px"},"100%":{borderRadius:"200px 210px 200px 155px"}},width:"90%"},n.breakpoints.up("sm"),{width:"518px",minHeight:"fit-content",animation:"borderWave 5s ease-in-out infinite"})})),a=(0,i.ZP)(o)({transform:"scale(1.05)",opacity:.5,position:"absolute",animationDelay:"1.5s !important",height:"100%",zIndex:-1}),u=(0,i.ZP)("div")({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}),c=(0,i.ZP)("form")((function(e){return{display:"flex",flexDirection:"column",width:"100%",gap:"20px",marginTop:"16px",color:e.theme.palette.primary.main}})),s=(0,i.ZP)("div")({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",width:"100%",gap:"20px","& button":{flex:1}}),d=(0,i.ZP)("button")((function(e){return{background:"transparent",border:"none",color:e.theme.palette.secondary.contrastText,cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease-in-out","&:hover":{textDecoration:"underline"}}}))},16397:function(e,n,t){t.d(n,{P:function(){return d}});var r=t(74165),i=t(15861),o=t(73418),a=t(91797),u=t(25983),c=t(35362),s=t(57472),d=function(){var e=(0,s.Z)(),n=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.todoListId,i=n.data,e.abrupt("return",(0,a.pE)((0,u.o)(c.kJ,(0,c.qB)(t)),i).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.D)(n,{onSuccess:e})}},85170:function(e,n,t){t.d(n,{X:function(){return r}});var r=function(e){return e.Pending="PENDING",e.Accepted="ACCEPTED",e.Rejected="REJECTED",e.ReOpened="REOPENED",e.Blocked="BLOCKED",e}({})},62217:function(e,n,t){t.d(n,{G:function(){return r},P:function(){return i}});var r=function(e){return e.CanReadTodoList="CAN_READ_TODOLIST",e.CanEditTodoList="CAN_EDIT_TODOLIST",e.CanShareTodoList="CAN_SHARE_TODOLIST",e.CanDeleteTodoList="CAN_DELETE_TODOLIST",e.CanCreateTask="CAN_CREATE_TASK",e.CanEditTask="CAN_EDIT_TASK",e.CanArchiveTask="CAN_ARCHIVE_TASK",e.CanDeleteTask="CAN_DELETE_TASK",e}({}),i=function(e){return e.Viewer="VIEWER",e.Member="MEMBER",e.Admin="ADMIN",e}({})},50194:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");n.Z=a},83791:function(e,n,t){t.d(n,{M:function(){return y}});var r=t(93433),i=t(72791),o=t(29439),a=t(92199);function u(){var e=(0,i.useRef)(!1);return(0,a.L)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var c=t(8771);var s=t(37762),d=t(60131),l=t(29829),p=t(15671),f=t(43144),h=t(60136),m=t(29388),x=function(e){(0,h.Z)(t,e);var n=(0,m.Z)(t);function t(){return(0,p.Z)(this,t),n.apply(this,arguments)}return(0,f.Z)(t,[{key:"getSnapshotBeforeUpdate",value:function(e){var n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){var t=this.props.sizeRef.current;t.height=n.offsetHeight||0,t.width=n.offsetWidth||0,t.top=n.offsetTop,t.left=n.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);function v(e){var n=e.children,t=e.isPresent,r=(0,i.useId)(),o=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)((function(){var e=a.current,n=e.width,i=e.height,u=e.top,c=e.left;if(!t&&o.current&&n&&i){o.current.dataset.motionPopId=r;var s=document.createElement("style");return document.head.appendChild(s),s.sheet&&s.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(n,"px !important;\n            height: ").concat(i,"px !important;\n            top: ").concat(u,"px !important;\n            left: ").concat(c,"px !important;\n          }\n        ")),function(){document.head.removeChild(s)}}}),[t]),i.createElement(x,{isPresent:t,childRef:o,sizeRef:a},i.cloneElement(n,{ref:o}))}var Z=function(e){var n=e.children,t=e.initial,r=e.isPresent,o=e.onExitComplete,a=e.custom,u=e.presenceAffectsLayout,c=e.mode,p=(0,l.h)(g),f=(0,i.useId)(),h=(0,i.useMemo)((function(){return{id:f,initial:t,isPresent:r,custom:a,onExitComplete:function(e){p.set(e,!0);var n,t=(0,s.Z)(p.values());try{for(t.s();!(n=t.n()).done;){if(!n.value)return}}catch(r){t.e(r)}finally{t.f()}o&&o()},register:function(e){return p.set(e,!1),function(){return p.delete(e)}}}}),u?void 0:[r]);return(0,i.useMemo)((function(){p.forEach((function(e,n){return p.set(n,!1)}))}),[r]),i.useEffect((function(){!r&&!p.size&&o&&o()}),[r]),"popLayout"===c&&(n=i.createElement(v,{isPresent:r},n)),i.createElement(d.O.Provider,{value:h},n)};function g(){return new Map}var b=t(7497);var w=t(95956),C=function(e){return e.key||""};var y=function(e){var n=e.children,t=e.custom,s=e.initial,d=void 0===s||s,l=e.onExitComplete,p=e.exitBeforeEnter,f=e.presenceAffectsLayout,h=void 0===f||f,m=e.mode,x=void 0===m?"sync":m;(0,w.k)(!p,"Replace exitBeforeEnter with mode='wait'");var v,g=(0,i.useContext)(b.p).forceRender||function(){var e=u(),n=(0,i.useState)(0),t=(0,o.Z)(n,2),r=t[0],a=t[1],s=(0,i.useCallback)((function(){e.current&&a(r+1)}),[r]);return[(0,i.useCallback)((function(){return c.Wi.postRender(s)}),[s]),r]}()[0],y=u(),k=function(e){var n=[];return i.Children.forEach(e,(function(e){(0,i.isValidElement)(e)&&n.push(e)})),n}(n),E=k,T=(0,i.useRef)(new Map).current,j=(0,i.useRef)(E),R=(0,i.useRef)(new Map).current,L=(0,i.useRef)(!0);if((0,a.L)((function(){L.current=!1,function(e,n){e.forEach((function(e){var t=C(e);n.set(t,e)}))}(k,R),j.current=E})),v=function(){L.current=!0,R.clear(),T.clear()},(0,i.useEffect)((function(){return function(){return v()}}),[]),L.current)return i.createElement(i.Fragment,null,E.map((function(e){return i.createElement(Z,{key:C(e),isPresent:!0,initial:!!d&&void 0,presenceAffectsLayout:h,mode:x},e)})));E=(0,r.Z)(E);for(var D=j.current.map(C),P=k.map(C),S=D.length,I=0;I<S;I++){var A=D[I];-1!==P.indexOf(A)||T.has(A)||T.set(A,void 0)}return"wait"===x&&T.size&&(E=[]),T.forEach((function(e,n){if(-1===P.indexOf(n)){var r=R.get(n);if(r){var o=D.indexOf(n),a=e;if(!a){a=i.createElement(Z,{key:C(r),isPresent:!1,onExitComplete:function(){R.delete(n),T.delete(n);var e=j.current.findIndex((function(e){return e.key===n}));if(j.current.splice(e,1),!T.size){if(j.current=k,!1===y.current)return;g(),l&&l()}},custom:t,presenceAffectsLayout:h,mode:x},r),T.set(n,a)}E.splice(o,0,a)}}})),E=E.map((function(e){var n=e.key;return T.has(n)?e:i.createElement(Z,{key:C(e),isPresent:!0,presenceAffectsLayout:h,mode:x},e)})),i.createElement(i.Fragment,null,T.size?E:E.map((function(e){return(0,i.cloneElement)(e)})))}}}]);
//# sourceMappingURL=487.e07ff5fb.chunk.js.map